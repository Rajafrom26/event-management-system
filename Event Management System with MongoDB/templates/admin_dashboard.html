{% extends 'base.html' %}

{% block title %}Admin Dashboard{% endblock %}

{% block content %}
<h2>Admin Dashboard</h2>
<a href="{{ url_for('add_event') }}">+ Add New Event</a>

<table>
    <tr>
        <th>Title</th>
        <th>Description</th>
        <th>Date & Time</th>
        <th>Location</th>
        <th>Image</th>
        <th>Actions</th>
    </tr>
    {% for event in events %}
    <tr>
        <td>{{ event.title }}</td>
        <td>{{ event.description }}</td>
        <td>{{ event.date_time }}</td>
        <td>{{ event.location }}</td>
        <td><img src="{{ url_for('static', filename='uploads/' + event.image) }}" width="100"></td>
        <td>
            <a href="{{ url_for('edit_event', event_id=event._id) }}">Edit</a> | 
            <a href="{{ url_for('delete_event', event_id=event._id) }}" onclick="return confirm('Are you sure?')">Delete</a>
        </td>
    </tr>
    {% endfor %}
</table>
{% endblock %}
